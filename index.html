<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">

<head>
	<meta http-equiv="Content-Type" content="text/html; charset=utf-8">
	<title>ACABA SEMESTRE</title>
	<meta name="author" content="Marcelo Prates, Adaptado por Lucas Suchy">
	<meta property="og:image" content="acabasemestre.png" />
	<meta property="og:title" content="ACABA SEMESTRE" />
	<meta property="og:description" content="ACABA SEMESTRE" />
	<link rel="stylesheet" type="text/css" media="all" href="css\style.css">
	<script type="text/javascript" src="js/jquery-1.10.2.min.js"></script>
	<script src="js/jquery-1.10.2.min.js" type="text/javascript"></script>
    <script src="//ajax.googleapis.com/ajax/libs/jquery/1.11.1/jquery.min.js"></script>

    <script type="text/javascript">

    	$(document).ready(function() 
    	{
    		/document.getElementById('progress').max = Date.dateDiff('s',new Date('Feburary 29, 2016 00:00:00'),new Date('July 9, 2016 23:59:59'));/

    		document.getElementById('progress').max = Date.dateDiff('s',new Date('August 12, 2019 00:00:00'),new Date('January 11, 2020 23:59:59'));
    		startTime();
        
        	setTweet(
		    	document.getElementById('days').innerHTML + "\n" + 
		    	document.getElementById('hours').innerHTML + "\n" + 
		    	document.getElementById('minutes').innerHTML + "\n" + 
		    	document.getElementById('seconds').innerHTML + "\n"
		    );
        });



        function startTime()
        {
        	var today=new Date();
        	/Aqui a data que acaba/
		    var acaba=new Date("January 11, 2020 23:59:59");

			
		    var days=Date.dateDiff('d',today,acaba);
		    var hours=Date.dateDiff('h',today,acaba) % 24;
		    var minutes=Date.dateDiff('n',today,acaba) % 60;
		    var seconds=Date.dateDiff('s',today,acaba) % 60;
		    /Aqui muda a data de inicio/
		    var elapsed_seconds = Date.dateDiff('s',new Date("August 12, 2019 00:00:00"),today);


		    var weeks=Date.dateDiff('w',today,acaba);

		    if(Date.dateDiff('s',today,acaba) < 0)
		    {
		    	days = 0;
		    	hours = 0;
		    	minutes = 0;
		    	seconds = 0;
		    	elapsed_seconds = Date.dateDiff('s',today,acaba);
		    }

		    var weekends_days = 2*weeks;

		    if(today.getDay() != 0)
		    {
				var aux = today;
				aux.setHours(0,0,0,0);

				while(aux <= acaba)
				{
					if(aux.getDay() == 0 || aux.getDay() == 6) weekends_days +=1;

					aux.setDate(aux.getDate() + 1)

					if(aux.getDay() == 0) break;
				}
			}

			if(acaba.getDay() != 6)
			{
				var aux = acaba;
				aux.setHours(0,0,0,0);

				while(aux >= today)
				{
					if(aux.getDay() == 0 || aux.getDay() == 6) weekends_days +=1;

					aux.setDate(aux.getDate() - 1)

					if(aux.getDay() == 6) break;
				}
			}

		    document.getElementById('days').innerHTML = days + ((days == 1) ? " dia " : " dias ") + "(" + (days-weekends_days) + (((days-weekends_days) == 1) ? " dia util)" : " dias uteis)");
		    document.getElementById('hours').innerHTML = hours + ((hours == 1) ? " hora" : " horas");
		    document.getElementById('minutes').innerHTML = minutes + ((minutes == 1) ? " minuto" : " minutos");
		    document.getElementById('seconds').innerHTML = seconds + ((seconds == 1) ? " segundo" : " segundos");

		    document.getElementById('weekends').innerHTML = weekends_days;
		    document.getElementById('progress').value = elapsed_seconds;
		    document.getElementById('progress_percentage').innerHTML = (100*(document.getElementById('progress').value/document.getElementById('progress').max)).toFixed(5) + "%";

		    if(days == 0 && hours == 0 && minutes == 0 && seconds == 0 && !document.getElementById('my-video'))
		    {
		    	document.getElementById('tetra').innerHTML = '<embed id="my-video" style="position: absolute; top: 0; left: 0;" width="100%" height="100%" frameborder="0" webkitallowfullscreen mozallowfullscreen allowfullscreen allowfullscreen="true" allowscriptaccess="always" quality="high" bgcolor="#000000" name="my-video" style="" src="http://www.youtube.com/v/gBzJGckMYO4?enablejsapi=1&version=3&playerapiid=ytplayer&autoplay=1" type="application/x-shockwave-flash">';
		    }

            var t = setTimeout(function(){startTime()},500);
        }
		
		Date.dateDiff = function(datepart, fromdate, todate) 
		{	
		  datepart = datepart.toLowerCase();	
		  var diff = todate - fromdate;	
		  var divideBy = { w:604800000, 
		                   d:86400000, 
		                   h:3600000, 
		                   n:60000, 
		                   s:1000 };	
		  
		  return Math.floor( diff/divideBy[datepart]);
		}

	</script>


</head>
 
	<body onload="startTime()">

		<script>
  (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
  (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
  m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
  })(window,document,'script','//www.google-analytics.com/analytics.js','ga');

  ga('create', 'UA-56467001-2', 'auto');
  ga('send', 'pageview');

</script>
		<div align="center" style="padding-top:5%">

			<table cellpadding="0" cellspacing="0" style="margin-top:0%;">
			<tbody>
				<tr>
					<td style="vertical-align:top">
						
						<table cellpadding="0" cellspacing="0" style="width:100%">
							<tbody>
								<tr>
									<td>
										<h1 style="font-size:200%; padding-top: 0px;"> ACABA SEMESTRE COUNTDOWN: </h1>
									</td>
								</tr>
							</tbody>
						<table>

						<table cellpadding="0" cellspacing="0" style="width:100%">
						<tbody>
							<tr>
								<td colspan="3"><div id="days" style="font-size:300%; color:LightCoral; padding: 10px;"></div></td>
							</tr>
							<tr>
								<td><div id="hours" 	style="font-size:300%; color:LightCoral; padding: 10px;"></div></td>
								<td><div id="minutes" 	style="font-size:300%; color:LightCoral; padding: 10px;"></div></td>
								<td><div id="seconds" 	style="font-size:300%; color:LightCoral; padding: 10px;"></div></td>
							</tr>
						</tbody>
						</table>
						<table cellpadding="0" cellspacing="0" style="width:100%;">
						<tbody>
							<tr>
								<td><div style="font-size:300%; color:LightSlateGray ; padding: 10px;">sabados e domingos: </div></td> 
								<td><div id="weekends" style="font-size:400%; color:LightCoral; padding: 10px;"></div></td>
							</tr>
						</tbody>
						</table>
						<table cellpadding="0" cellspacing="0" style="width:800px;">
						<tbody>
							<tr>
								<td><div style="font-size:300%; color:LightSlateGray ; padding: 10px;">Progresso: </div></td>
								<td><div id="progress_percentage" style="font-size:300%; color:LightCoral; padding: 10px;"></div></td>
							</tr>
							<tr>
								<td colspan="2"><progress id="progress" value="0" max="60" style="width: 100%; padding: 0px;"></progress></td>
							</tr>
						</tbody>
						</table>
					</td>
				</tr>
			</tbody>
			</table>
		</div>

	</body>

</html>
